@use "../../foundation/variable" as v;
@use "../../foundation/mixin" as m;
@use "sass:math";

.p-offset-text {
	position: relative;
	bottom: 15%;
	left: 50%;
	transform: translateX(-50%);
	display: flex;
	justify-content: center;

	.words {
		position: relative;
		width: 600px;
		height: 70px;
		font-size: v.$font-size--p-offset-text;

		.word {
			position: absolute;
			width: 100%;
			height: 100%;
			mask: linear-gradient(
				to right,
				transparent,
				#000 75px,
				#000 calc(100% - 75px),
				transparent
			);

			.char {
				position: absolute;
				offset-path: path(
					"M-64.5,28c44.4,0,44.4,26,88.9,26c44.4,0,44.4-26,88.9-26c44.4,0,44.4,26,88.9,26c44.4,0,44.4-26,88.9-26c44.4,0,44.4,26,88.9,26c44.4,0,44.4-26,88.9-26c44.4,0,44.4,26,88.9,26c44.4,0,44.4-26,88.9-26"
				);
	
				offset-distance: 0;
				animation: waving 10s linear infinite,
					color 15s ease-in-out infinite alternate;
	
				@for $i from 1 through 20 {
					&:nth-of-type(#{$i}) {
						animation-delay: math.div($i, -2) +s;
					}
				}
			}
		}
	}
}


@keyframes waving {
	100% {
		offset-distance: 100%;
	}
}

@keyframes winding {
	100% {
		offset-distance: calc((var(--char-index) * 3rem) + 300px);
		transform: perspective(800px) scale(1.25) rotate3d(1, 0, 0, 180deg);
	}
}

@keyframes winding2 {
	100% {
		// offset-distance: calc((var(--char-index) * 3.45rem) + 600px);
		offset-distance: calc((var(--char-index) * 3.45rem) + 500px);
		transform: perspective(800px) scale(1.75) rotate3d(1, 0, 0, 360deg);
	}
}


@keyframes loop {
	50% {
		offset-distance: calc((var(--char-index) * 2.5rem) + 700px);
		color: rgba(255,255,0, 0.8);
	}
	100% {
		offset-distance: calc((var(--char-index) * 1.5rem) + 1690px);
	}
}




	// @media screen and (min-width: 940px) {
	// 	margin-left: 40%;
  // }

	// p {
	// 	width: 100%;
	// 	height: 100%;
	// 	color: #fff;

	// 	.char {
	// 		offset-path: path("M.5 122.7s24.7-275 276.9 0c327.1 356.7 266.1-330.3 548-33.3 256.9 270.7 271.1 0 271.1 0");
	// 		offset-distance: calc(var(--char-index) * 1.75rem);
	// 		position: absolute;
	// 		animation: winding 2200ms cubic-bezier(0.62, 0.01, 0.42, 1.01) infinite
	// 				alternate calc(var(--char-index) * 20ms),
	// 			winding2 2200ms cubic-bezier(0.62, 0.01, 0.42, 1.01) infinite alternate
	// 				calc(var(--char-index) * 20ms);
	// 		transform: perspective(800px) scale(1) rotate3d(0, 0, 0, 0);
	// 	}
  // }